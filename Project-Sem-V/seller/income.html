<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seller Dashboard - Income</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
    }
    .sidebar-frame {
      position: fixed;
      top: 0;
      left: 0;
      width: 240px;
      height: 100vh;
      border: none;
    }
    .content {
      margin-left: 240px;
      padding: 20px;
    }
    .card {
      border-radius: 12px;
    }
  </style>
</head>
<body>

  <!-- Sidebar iframe -->
  <iframe src="seller_dashboard.html" class="sidebar-frame"></iframe>

  <!-- Main Content -->
  <div class="content">
    <h2 class="mb-4">Income Overview</h2>

    <!-- Filter Buttons -->
    <div class="mb-4">
      <button class="btn btn-outline-primary btn-sm me-2" onclick="setPeriod('7')">Last 7 Days</button>
      <button class="btn btn-outline-primary btn-sm me-2" onclick="setPeriod('15')">Last 15 Days</button>
      <button class="btn btn-outline-primary btn-sm me-2" onclick="setPeriod('30')">Last 30 Days</button>
      <button class="btn btn-outline-primary btn-sm" onclick="setPeriod('month')">Month-wise</button>
    </div>

    <!-- Summary Cards -->
    <div class="row g-4 mb-4">
      <div class="col-md-3">
        <div class="card text-center shadow-sm p-3">
          <h6 class="text-muted">Total Revenue</h6>
          <h3 class="fw-bold text-success" id="totalRevenue">$12,450</h3>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center shadow-sm p-3">
          <h6 class="text-muted">Avg Revenue / Buyer</h6>
          <h3 class="fw-bold text-primary" id="avgRevenue">$245</h3>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center shadow-sm p-3">
          <h6 class="text-muted">Total Orders</h6>
          <h3 class="fw-bold text-warning" id="totalOrders">89</h3>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center shadow-sm p-3">
          <h6 class="text-muted">Repeat Buyers</h6>
          <h3 class="fw-bold text-info" id="repeatBuyers">23</h3>
        </div>
      </div>
    </div>

    <!-- Graphs -->
    <div class="row g-4">
      <div class="col-md-6">
        <div class="card shadow-sm p-3">
          <h6 class="text-muted mb-3">Revenue Trend</h6>
          <canvas id="revenueChart"></canvas>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card shadow-sm p-3">
          <h6 class="text-muted mb-3">Orders Breakdown</h6>
          <canvas id="ordersChart"></canvas>
        </div>
      </div>
     <div class="col-md-6">
  <div class="card shadow-sm p-3 text-center">
    <h6 class="text-muted mb-3">Category Contribution</h6>
    <canvas id="categoryChart"></canvas>
  </div>
</div>

    </div>
  </div>

  <!-- Chart.js Script -->
  <script>
    let revenueChart, ordersChart, categoryChart;

    // Initialize charts
    function initCharts() {
      const ctx1 = document.getElementById('revenueChart');
      revenueChart = new Chart(ctx1, {
        type: 'line',
        data: {
          labels: ['Day 1','Day 2','Day 3','Day 4','Day 5','Day 6','Day 7'],
          datasets: [{
            label: 'Revenue ($)',
            data: [200, 400, 350, 500, 700, 650, 800],
            borderColor: '#198754',
            backgroundColor: 'rgba(25,135,84,0.2)',
            fill: true,
            tension: 0.3
          }]
        }
      });

      const ctx2 = document.getElementById('ordersChart');
      ordersChart = new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: ['Pending','Confirmed','Delivered','Cancelled'],
          datasets: [{
            label: 'Orders',
            data: [12, 45, 30, 2],
            backgroundColor: ['#ffc107','#0d6efd','#198754','#dc3545']
          }]
        }
      });

      const ctx3 = document.getElementById('categoryChart');
      categoryChart = new Chart(ctx3, {
        type: 'pie',
        data: {
          labels: ['Fashion','Books','Electronics','Food'],
          datasets: [{
            data: [35, 20, 25, 20],
            backgroundColor: ['#0dcaf0','#6f42c1','#fd7e14','#198754']
          }]
        }
      });
    }

    // Filter (dummy simulation)
    function setPeriod(period) {
      alert("Data filtered for " + period);
      // In real use: reload datasets with AJAX / API call
    }

    // Load charts on page load
    window.onload = initCharts;
  </script>


</body>
</html>
